function cov_x0faobumf(){var path="C:\\Users\\danda\\OneDrive\\Desktop\\TP Danial\\Y2S2\\4.DVOP\\Projects\\DevOps-Project\\utils\\createBookingRoute.js";var hash="478ec15fdcdcabdf46f78a3df37e6c936c5fdf6a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\danda\\OneDrive\\Desktop\\TP Danial\\Y2S2\\4.DVOP\\Projects\\DevOps-Project\\utils\\createBookingRoute.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:15},end:{line:2,column:31}},"2":{start:{line:3,column:16},end:{line:3,column:47}},"3":{start:{line:5,column:0},end:{line:19,column:2}},"4":{start:{line:7,column:74},end:{line:7,column:82}},"5":{start:{line:8,column:28},end:{line:8,column:81}},"6":{start:{line:10,column:4},end:{line:12,column:5}},"7":{start:{line:11,column:8},end:{line:11,column:86}},"8":{start:{line:14,column:23},end:{line:14,column:44}},"9":{start:{line:15,column:4},end:{line:15,column:28}},"10":{start:{line:17,column:4},end:{line:17,column:50}},"11":{start:{line:21,column:0},end:{line:21,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:31},end:{line:5,column:32}},loc:{start:{line:5,column:50},end:{line:19,column:1}},line:5}},branchMap:{"0":{loc:{start:{line:10,column:4},end:{line:12,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:12,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"478ec15fdcdcabdf46f78a3df37e6c936c5fdf6a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_x0faobumf=function(){return actualCoverage;};}return actualCoverage;}cov_x0faobumf();const express=(cov_x0faobumf().s[0]++,require('express'));const router=(cov_x0faobumf().s[1]++,express.Router());const Booking=(cov_x0faobumf().s[2]++,require('../models/Booking.js'));cov_x0faobumf().s[3]++;router.post('/create-booking',async(req,res)=>{cov_x0faobumf().f[0]++;const{customerName,date,time,numberOfGuests,specialRequests}=(cov_x0faobumf().s[4]++,req.body);const existingBooking=(cov_x0faobumf().s[5]++,await Booking.findOne({customerName:customerName}));cov_x0faobumf().s[6]++;if(existingBooking){cov_x0faobumf().b[0][0]++;cov_x0faobumf().s[7]++;// server side validation, checks if existing booking is true
return res.status(400).send("Each user may only create 1 booking at a time!");}else{cov_x0faobumf().b[0][1]++;}const newBooking=(cov_x0faobumf().s[8]++,new Booking(req.body));cov_x0faobumf().s[9]++;await newBooking.save();cov_x0faobumf().s[10]++;res.status(200).send('Booking data received');});cov_x0faobumf().s[11]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfeDBmYW9idW1mIiwiYWN0dWFsQ292ZXJhZ2UiLCJleHByZXNzIiwicyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJCb29raW5nIiwicG9zdCIsInJlcSIsInJlcyIsImYiLCJjdXN0b21lck5hbWUiLCJkYXRlIiwidGltZSIsIm51bWJlck9mR3Vlc3RzIiwic3BlY2lhbFJlcXVlc3RzIiwiYm9keSIsImV4aXN0aW5nQm9va2luZyIsImZpbmRPbmUiLCJiIiwic3RhdHVzIiwic2VuZCIsIm5ld0Jvb2tpbmciLCJzYXZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImNyZWF0ZUJvb2tpbmdSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBCb29raW5nID0gcmVxdWlyZSgnLi4vbW9kZWxzL0Jvb2tpbmcuanMnKTtcclxuXHJcbnJvdXRlci5wb3N0KCcvY3JlYXRlLWJvb2tpbmcnLCBhc3luYyAocmVxLHJlcykgPT4ge1xyXG5cclxuICAgIGNvbnN0IHsgY3VzdG9tZXJOYW1lLCBkYXRlLCB0aW1lLCBudW1iZXJPZkd1ZXN0cywgc3BlY2lhbFJlcXVlc3RzIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IGV4aXN0aW5nQm9va2luZyA9IGF3YWl0IEJvb2tpbmcuZmluZE9uZSh7IGN1c3RvbWVyTmFtZTogY3VzdG9tZXJOYW1lIH0pO1xyXG5cclxuICAgIGlmIChleGlzdGluZ0Jvb2tpbmcpIHsgLy8gc2VydmVyIHNpZGUgdmFsaWRhdGlvbiwgY2hlY2tzIGlmIGV4aXN0aW5nIGJvb2tpbmcgaXMgdHJ1ZVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcIkVhY2ggdXNlciBtYXkgb25seSBjcmVhdGUgMSBib29raW5nIGF0IGEgdGltZSFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3Qm9va2luZyA9IG5ldyBCb29raW5nKHJlcS5ib2R5KTtcclxuICAgIGF3YWl0IG5ld0Jvb2tpbmcuc2F2ZSgpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdCb29raW5nIGRhdGEgcmVjZWl2ZWQnKTtcclxuXHJcbn0pXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJxeURBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFBRSxPQUFPLEVBQUFGLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQ2xDLEtBQU0sQ0FBQUMsTUFBTSxFQUFBTCxhQUFBLEdBQUFHLENBQUEsTUFBR0QsT0FBTyxDQUFDSSxNQUFNLENBQUMsQ0FBQyxFQUMvQixLQUFNLENBQUFDLE9BQU8sRUFBQVAsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxFQUFDSixhQUFBLEdBQUFHLENBQUEsTUFFaERFLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGlCQUFpQixDQUFFLE1BQU9DLEdBQUcsQ0FBQ0MsR0FBRyxHQUFLLENBQUFWLGFBQUEsR0FBQVcsQ0FBQSxNQUU5QyxLQUFNLENBQUVDLFlBQVksQ0FBRUMsSUFBSSxDQUFFQyxJQUFJLENBQUVDLGNBQWMsQ0FBRUMsZUFBZ0IsQ0FBQyxFQUFBaEIsYUFBQSxHQUFBRyxDQUFBLE1BQUdNLEdBQUcsQ0FBQ1EsSUFBSSxFQUM5RSxLQUFNLENBQUFDLGVBQWUsRUFBQWxCLGFBQUEsR0FBQUcsQ0FBQSxNQUFHLEtBQU0sQ0FBQUksT0FBTyxDQUFDWSxPQUFPLENBQUMsQ0FBRVAsWUFBWSxDQUFFQSxZQUFhLENBQUMsQ0FBQyxFQUFDWixhQUFBLEdBQUFHLENBQUEsTUFFOUUsR0FBSWUsZUFBZSxDQUFFLENBQUFsQixhQUFBLEdBQUFvQixDQUFBLFNBQUFwQixhQUFBLEdBQUFHLENBQUEsTUFBRTtBQUNuQixNQUFPLENBQUFPLEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsZ0RBQWdELENBQUMsQ0FDakYsQ0FBQyxLQUFBdEIsYUFBQSxHQUFBb0IsQ0FBQSxVQUVELEtBQU0sQ0FBQUcsVUFBVSxFQUFBdkIsYUFBQSxHQUFBRyxDQUFBLE1BQUcsR0FBSSxDQUFBSSxPQUFPLENBQUNFLEdBQUcsQ0FBQ1EsSUFBSSxDQUFDLEVBQUNqQixhQUFBLEdBQUFHLENBQUEsTUFDekMsS0FBTSxDQUFBb0IsVUFBVSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDeEIsYUFBQSxHQUFBRyxDQUFBLE9BRXhCTyxHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBRWpELENBQUMsQ0FBQyxDQUFBdEIsYUFBQSxHQUFBRyxDQUFBLE9BRUZzQixNQUFNLENBQUNDLE9BQU8sQ0FBR3JCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=